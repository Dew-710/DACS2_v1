{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/macintosh/DACS2/FrontEnd/components/theme-provider.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport {\n  ThemeProvider as NextThemesProvider,\n  type ThemeProviderProps,\n} from 'next-themes'\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  const [mounted, setMounted] = React.useState(false)\n\n  React.useEffect(() => {\n    setMounted(true)\n  }, [])\n\n  if (!mounted) {\n    // Return children without theme provider during SSR to prevent hydration mismatch\n    return <>{children}</>\n  }\n\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAQO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,8LAAc,CAAC;IAE7C,+LAAe;mCAAC;YACd,WAAW;QACb;kCAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,kFAAkF;QAClF,qBAAO;sBAAG;;IACZ;IAEA,qBAAO,kNAAC,yLAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;GAbgB;KAAA"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/macintosh/DACS2/FrontEnd/lib/api.ts"],"sourcesContent":["import type {\n  User,\n  LoginRequest,\n  RegisterRequest,\n  MenuItem,\n  Category,\n  RestaurantTable,\n  Order,\n  OrderItem,\n  Booking,\n  Payment,\n  CreateOrderRequest,\n  CreateOrderItemRequest,\n  CreateBookingRequest,\n  BookingAvailabilityRequest,\n  CreatePaymentRequest,\n} from './types';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8080\"; // Backend URL\n\nasync function fetchData<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n    ...options,\n    headers: {\n      'Content-Type': 'application/json',\n      ...(options.headers || {}),\n    },\n  });\n\n  // Xử lý lỗi trước\n  if (!response.ok) {\n    let errMsg = response.statusText;\n\n    try {\n      const errorBody = await response.json();\n      errMsg = errorBody.message || errorBody.error || errMsg;\n    } catch (_) {}\n\n    throw new Error(errMsg);\n  }\n\n  // Server có thể không trả JSON (ví dụ DELETE 204)\n  const contentType = response.headers.get(\"content-type\");\n  if (contentType && contentType.includes(\"application/json\")) {\n    return response.json();\n  }\n\n  // @ts-ignore\n  return null; // hoặc return undefined\n}\n\nexport async function login(loginRequest: LoginRequest) {\n  return fetchData<{ message: string; user: User }>(\"/api/users/login\", {\n    method: 'POST',\n    body: JSON.stringify(loginRequest),\n  });\n}\n\nexport async function register(registerRequest: RegisterRequest) {\n  return fetchData<{ message: string; user: User }>(\"/api/users/register\", {\n    method: 'POST',\n    body: JSON.stringify(registerRequest),\n  });\n}\n\nexport async function getUsersList() {\n  return fetchData<{ message: string; users: User[] }>(\"/api/users/list\");\n}\n\n// ===== MENU ITEMS API =====\nexport interface MenuItem {\n  id: number;\n  name: string;\n  description: string;\n  price: number;\n  categoryId: number;\n  imageUrl?: string;\n  available: boolean;\n}\n\nexport async function getMenuItems() {\n  return fetchData<{ message: string; menuItems: MenuItem[] }>(\"/api/menu-items/list\");\n}\n\nexport async function getMenuItemById(id: number) {\n  return fetchData<{ message: string; menuItem: MenuItem }>(`/api/menu-items/${id}`);\n}\n\nexport async function getMenuItemsByCategory(categoryId: number) {\n  return fetchData<{ message: string; menuItems: MenuItem[] }>(`/api/menu-items/category/${categoryId}`);\n}\n\nexport async function createMenuItem(menuItem: Omit<MenuItem, 'id'>) {\n  return fetchData<{ message: string; menuItem: MenuItem }>(\"/api/menu-items/create\", {\n    method: 'POST',\n    body: JSON.stringify(menuItem),\n  });\n}\n\nexport async function updateMenuItem(id: number, menuItem: Partial<MenuItem>) {\n  return fetchData<{ message: string; menuItem: MenuItem }>(`/api/menu-items/update/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(menuItem),\n  });\n}\n\nexport async function deleteMenuItem(id: number) {\n  return fetchData<{ message: string }>(`/api/menu-items/delete/${id}`, {\n    method: 'DELETE',\n  });\n}\n\n// ===== CATEGORIES API =====\nexport interface Category {\n  id: number;\n  name: string;\n  description?: string;\n}\n\nexport async function getCategories() {\n  return fetchData<{ message: string; categories: Category[] }>(\"/api/categories/list\");\n}\n\nexport async function createCategory(category: Omit<Category, 'id'>) {\n  return fetchData<{ message: string; category: Category }>(\"/api/categories/create\", {\n    method: 'POST',\n    body: JSON.stringify(category),\n  });\n}\n\nexport async function updateCategory(id: number, category: Partial<Category>) {\n  return fetchData<{ message: string; category: Category }>(`/api/categories/update/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(category),\n  });\n}\n\nexport async function deleteCategory(id: number) {\n  return fetchData<{ message: string }>(`/api/categories/delete/${id}`, {\n    method: 'DELETE',\n  });\n}\n\n// ===== TABLES API =====\nexport interface RestaurantTable {\n  id: number;\n  tableNumber: string;\n  capacity: number;\n  status: string;\n  qrCode?: string;\n}\n\nexport async function getTablesList() {\n  return fetchData<{ message: string; tables: RestaurantTable[] }>(\"/api/tables/list\");\n}\n\nexport async function getAllTables() {\n  return fetchData<{ message: string; tables: RestaurantTable[] }>(\"/api/tables/all\");\n}\n\nexport async function getAvailableTables() {\n  return fetchData<{ message: string; tables: RestaurantTable[] }>(\"/api/tables/available\");\n}\n\nexport async function updateTableStatus(tableId: number, status: string) {\n  return fetchData<{ message: string; table: RestaurantTable }>(`/api/tables/${tableId}/status-update/${status}`, {\n    method: 'PUT',\n  });\n}\n\nexport async function checkInTable(qrCode: string, customerId: number) {\n  return fetchData<{ message: string; table: RestaurantTable; order: Order }>(`/api/tables/checkin/${qrCode}?customerId=${customerId}`, {\n    method: 'POST',\n  });\n}\n\nexport async function checkOutTable(tableId: number) {\n  return fetchData<{ message: string; table: RestaurantTable }>(`/api/tables/${tableId}/checkout`, {\n    method: 'POST',\n  });\n}\n\nexport async function getTableCurrentOrder(tableId: number) {\n  return fetchData<{ message: string; hasActiveOrder: boolean; order?: Order }>(`/api/tables/${tableId}/current-order`);\n}\n\nexport async function sendQRCodeToESP32(tableId: number) {\n  return fetchData<{ message: string; tableId: number; tableName: string; qrCode: string; qrUrl: string }>(`/api/send-qr-code/${tableId}`, {\n    method: 'POST',\n  });\n}\n\nexport function getQRCodeImageUrl(tableId: number) {\n  return `${process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8080\"}/api/qr-code/${tableId}/image`;\n}\n\nexport async function getTableByQr(qrCode: string) {\n  return fetchData<{ message: string; table: RestaurantTable }>(`/api/tables/qr/${qrCode}`);\n}\n\n\n// ===== ORDERS API =====\nexport interface OrderItem {\n  id: number;\n  menuItem: MenuItem;\n  quantity: number;\n  status: string;\n  notes?: string;\n}\n\nexport interface Order {\n  id: number;\n  tableId: number;\n  customerId?: number;\n  items: OrderItem[];\n  status: string;\n  totalAmount: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport async function getOrders() {\n  return fetchData<{ message: string; orders: Order[] }>(\"/api/orders/list\");\n}\n\nexport async function getMyOrders(customerId?: number) {\n  const url = customerId \n    ? `/api/orders/my-orders?customerId=${customerId}`\n    : \"/api/orders/my-orders\";\n  return fetchData<{ message: string; orders: Order[] }>(url);\n}\n\nexport async function getOrderById(id: number) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/${id}`);\n}\n\nexport async function getOrdersByTable(tableId: number) {\n  return fetchData<{ message: string; orders: Order[] }>(`/api/orders/table/${tableId}`);\n}\n\nexport async function getActiveOrdersByTable(tableId: number) {\n  return fetchData<{ message: string; orders: Order[] }>(`/api/orders/table/${tableId}/active`);\n}\n\nexport async function createOrder(order: Omit<Order, 'id' | 'createdAt' | 'updatedAt'>) {\n  return fetchData<{ message: string; order: Order }>(\"/api/orders/create\", {\n    method: 'POST',\n    body: JSON.stringify(order),\n  });\n}\n\nexport async function createOrderWithCustomer(customerId: number, tableId: number, order: Omit<Order, 'id' | 'customer' | 'table' | 'createdAt' | 'updatedAt'>) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/create-with-customer/${customerId}/table/${tableId}`, {\n    method: 'POST',\n    body: JSON.stringify(order),\n  });\n}\n\nexport async function createOrderFromRequest(request: { tableId: number; customerId?: number | null; staffId?: number; bookingId?: number | null; status?: string; items?: Omit<OrderItem,'id'>[] }) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/create-from-request`, {\n    method: 'POST',\n    body: JSON.stringify(request),\n  });\n}\n\nexport async function addItemsToOrder(orderId: number, items: Omit<OrderItem, 'id'>[]) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/${orderId}/add-items`, {\n    method: 'POST',\n    body: JSON.stringify(items),\n  });\n}\n\nexport async function removeItemFromOrder(orderId: number, itemId: number) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/${orderId}/remove-item/${itemId}`, {\n    method: 'DELETE',\n  });\n}\n\nexport async function updateOrderStatus(id: number, status: string) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/${id}/status/${status}`, {\n    method: 'PUT',\n  });\n}\n\nexport async function checkoutOrder(orderId: number) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/${orderId}/checkout`, {\n    method: 'PUT',\n  });\n}\n\nexport async function updateOrderItemStatus(orderId: number, itemId: number, status: string) {\n  return fetchData<{ message: string; order: Order }>(`/api/orders/${orderId}/item/${itemId}/status/${status}`, {\n    method: 'PUT',\n  });\n}\n\nexport async function deleteOrder(id: number) {\n  return fetchData<{ message: string }>(`/api/orders/${id}`, {\n    method: 'DELETE',\n  });\n}\n\n// ===== BOOKINGS API =====\nexport interface Booking {\n  id: number;\n  customerId: number;\n  tableId: number;\n  date: string;\n  time: string;\n  guests: number;\n  status: string;\n  notes?: string;\n}\n\nexport async function getBookings() {\n  return fetchData<{ message: string; bookings: Booking[] }>(\"/api/bookings/list\");\n}\n\nexport async function getMyBookings(customerId?: number) {\n  const url = customerId \n    ? `/api/bookings/my-bookings?customerId=${customerId}`\n    : \"/api/bookings/my-bookings\";\n  return fetchData<{ message: string; bookings: Booking[] }>(url);\n}\n\nexport async function getActiveBookingByTable(tableId: number) {\n  return fetchData<{ message: string; hasActiveBooking: boolean; booking?: Booking }>(`/api/bookings/table/${tableId}/active`);\n}\n\nexport async function createBooking(booking: Omit<Booking, 'id'>) {\n  return fetchData<{ message: string; booking: Booking }>(\"/api/bookings/create\", {\n    method: 'POST',\n    body: JSON.stringify(booking),\n  });\n}\n\nexport async function confirmBooking(bookingId: number) {\n  return fetchData<{ message: string; booking: Booking }>(`/api/bookings/${bookingId}/confirm`, {\n    method: 'PUT',\n  });\n}\n\nexport async function checkInBooking(bookingId: number) {\n  return fetchData<{ message: string; booking: Booking }>(`/api/bookings/${bookingId}/checkin`, {\n    method: 'PUT',\n  });\n}\n\nexport async function checkTableAvailability(date: string, time: string, guests: number) {\n  const params = new URLSearchParams({\n    date,\n    time,\n    guests: guests.toString()\n  });\n  return fetchData<{\n    message: string;\n    date: string;\n    time: string;\n    guests: number;\n    availableTables: RestaurantTable[]\n  }>(`/api/bookings/availability?${params}`);\n}\n\nexport async function cancelBooking(bookingId: number) {\n  return fetchData<{ message: string; booking: Booking }>(`/api/bookings/${bookingId}/cancel`, {\n    method: 'PUT',\n  });\n}\n\n// ===== PAYMENTS API =====\nexport interface Payment {\n  id: number;\n  orderId: number;\n  amount: number;\n  paymentMethod: string;\n  status: string;\n  transactionId?: string;\n}\n\nexport async function processPayment(payment: Omit<Payment, 'id'>) {\n  return fetchData<{ message: string; payment: Payment }>(\"/api/payments/process\", {\n    method: 'POST',\n    body: JSON.stringify(payment),\n  });\n}\n\n// ===== SEPAY PAYMENT API =====\nexport interface SepayPaymentRequest {\n  orderId: number;\n  amount: number;\n  description?: string;\n}\n\nexport interface SepayPaymentResponse {\n  success: boolean;\n  message: string;\n  data: {\n    transactionId: string;\n    orderId: number;\n    amount: number;\n    accountNumber: string;\n    accountName: string;\n    bankCode: string;\n    content: string;\n    paymentUrl: string; // QR code image URL\n    status: string;\n    expiresAt: string;\n  };\n}\n\nexport interface SepayPaymentStatus {\n  success: boolean;\n  message: string;\n  data: {\n    transactionId: string;\n    orderId: number;\n    amount: number;\n    status: string; // PENDING, COMPLETED, FAILED, CANCELLED\n    paidAt?: string;\n    bankTransactionId?: string;\n  };\n}\n\nexport async function createSepayPayment(request: SepayPaymentRequest) {\n  return fetchData<SepayPaymentResponse>(\"/api/payments/sepay/create\", {\n    method: 'POST',\n    body: JSON.stringify(request),\n  });\n}\n\nexport async function checkSepayPaymentStatus(transactionId: string) {\n  return fetchData<SepayPaymentStatus>(`/api/payments/sepay/status/${transactionId}`);\n}\n\nexport async function cancelSepayPayment(transactionId: string) {\n  return fetchData<{ success: boolean; message: string }>(`/api/payments/sepay/cancel/${transactionId}`, {\n    method: 'POST',\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///Users/macintosh/DACS2/FrontEnd/lib/context/auth-context.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { User } from '../types';\nimport { login as apiLogin, register as apiRegister } from '../api';\n\nexport type UserRole = 'ADMIN' | 'STAFF' | 'KITCHEN' | 'CUSTOMER';\n\ninterface AuthContextType {\n  user: User | null;\n  login: (username: string, password: string) => Promise<void>;\n  register: (username: string, email: string, password: string, fullName?: string, phone?: string) => Promise<void>;\n  logout: () => void;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  role: UserRole | null;\n  hasRole: (roles: UserRole | UserRole[]) => boolean;\n  hasAnyRole: (roles: UserRole[]) => boolean;\n  isAdmin: boolean;\n  isStaff: boolean;\n  isKitchen: boolean;\n  isCustomer: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isHydrated, setIsHydrated] = useState(false);\n\n  useEffect(() => {\n    // Mark as hydrated after component mounts\n    setIsHydrated(true);\n\n    // Check if user is logged in on app start\n    if (typeof window !== 'undefined') {\n      const storedUser = localStorage.getItem('user');\n      if (storedUser) {\n        try {\n          setUser(JSON.parse(storedUser));\n        } catch (error) {\n          // Silently remove corrupted data instead of logging during hydration\n          localStorage.removeItem('user');\n        }\n      }\n    }\n    setIsLoading(false);\n  }, []);\n\n  const login = async (username: string, password: string) => {\n    try {\n      setIsLoading(true);\n      const response = await apiLogin({ username, password });\n      const userData = response.user;\n      setUser(userData);\n      localStorage.setItem('user', JSON.stringify(userData));\n    } catch (error) {\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const register = async (username: string, email: string, password: string, fullName?: string, phone?: string) => {\n    try {\n      setIsLoading(true);\n      const response = await apiRegister({ \n        username, \n        email, \n        password, \n        fullName: fullName || '', \n        phone: phone || '' \n      });\n      const userData = response.user;\n      setUser(userData);\n      localStorage.setItem('user', JSON.stringify(userData));\n    } catch (error) {\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem('user');\n  };\n\n  const role = user?.role as UserRole || null;\n\n  const hasRole = (roles: UserRole | UserRole[]): boolean => {\n    if (!role) return false;\n    const roleArray = Array.isArray(roles) ? roles : [roles];\n    return roleArray.includes(role);\n  };\n\n  const hasAnyRole = (roles: UserRole[]): boolean => {\n    if (!role) return false;\n    return roles.includes(role);\n  };\n\n  const value: AuthContextType = {\n    user,\n    login,\n    register,\n    logout,\n    isLoading,\n    isAuthenticated: !!user,\n    role,\n    hasRole,\n    hasAnyRole,\n    isAdmin: role === 'ADMIN',\n    isStaff: role === 'STAFF',\n    isKitchen: role === 'KITCHEN',\n    isCustomer: role === 'CUSTOMER',\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAwBA,MAAM,4BAAc,IAAA,mMAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8LAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8LAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,8LAAQ,EAAC;IAE7C,IAAA,+LAAS;kCAAC;YACR,0CAA0C;YAC1C,cAAc;YAEd,0CAA0C;YAC1C,wCAAmC;gBACjC,MAAM,aAAa,aAAa,OAAO,CAAC;gBACxC,IAAI,YAAY;oBACd,IAAI;wBACF,QAAQ,KAAK,KAAK,CAAC;oBACrB,EAAE,OAAO,OAAO;wBACd,qEAAqE;wBACrE,aAAa,UAAU,CAAC;oBAC1B;gBACF;YACF;YACA,aAAa;QACf;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAkB;QACrC,IAAI;YACF,aAAa;YACb,MAAM,WAAW,MAAM,IAAA,2IAAQ,EAAC;gBAAE;gBAAU;YAAS;YACrD,MAAM,WAAW,SAAS,IAAI;YAC9B,QAAQ;YACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC9C,EAAE,OAAO,OAAO;YACd,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,WAAW,OAAO,UAAkB,OAAe,UAAkB,UAAmB;QAC5F,IAAI;YACF,aAAa;YACb,MAAM,WAAW,MAAM,IAAA,8IAAW,EAAC;gBACjC;gBACA;gBACA;gBACA,UAAU,YAAY;gBACtB,OAAO,SAAS;YAClB;YACA,MAAM,WAAW,SAAS,IAAI;YAC9B,QAAQ;YACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC9C,EAAE,OAAO,OAAO;YACd,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,OAAO,MAAM,QAAoB;IAEvC,MAAM,UAAU,CAAC;QACf,IAAI,CAAC,MAAM,OAAO;QAClB,MAAM,YAAY,MAAM,OAAO,CAAC,SAAS,QAAQ;YAAC;SAAM;QACxD,OAAO,UAAU,QAAQ,CAAC;IAC5B;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,MAAM,OAAO;QAClB,OAAO,MAAM,QAAQ,CAAC;IACxB;IAEA,MAAM,QAAyB;QAC7B;QACA;QACA;QACA;QACA;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA,SAAS,SAAS;QAClB,SAAS,SAAS;QAClB,WAAW,SAAS;QACpB,YAAY,SAAS;IACvB;IAEA,qBAAO,kNAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GA7FgB;KAAA;AA+FT,SAAS;;IACd,MAAM,UAAU,IAAA,gMAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///Users/macintosh/DACS2/FrontEnd/components/ui/sonner.tsx"],"sourcesContent":["'use client'\n\nimport { useTheme } from 'next-themes'\nimport { Toaster as Sonner, ToasterProps } from 'sonner'\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = 'system' } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps['theme']}\n      className=\"toaster group\"\n      style={\n        {\n          '--normal-bg': 'var(--popover)',\n          '--normal-text': 'var(--popover-foreground)',\n          '--normal-border': 'var(--border)',\n        } as React.CSSProperties\n      }\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,oLAAQ;IAErC,qBACE,kNAAC,2KAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf;GAjBM;;QACyB,oLAAQ;;;KADjC"}}]
}