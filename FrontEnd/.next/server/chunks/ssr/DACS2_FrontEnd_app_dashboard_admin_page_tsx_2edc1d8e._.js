module.exports=[41655,a=>{"use strict";var b=a.i(15238),c=a.i(47666),d=a.i(19967),e=a.i(95485),f=a.i(52983),g=a.i(48786),h=a.i(7054),i=a.i(55154),j=a.i(7326),k=a.i(14246),l=a.i(36222),m=a.i(15490),n=a.i(9947),o=a.i(51471);let p=(0,a.i(37601).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var q=a.i(5385),r=a.i(89417),s=a.i(27369),t=a.i(15557);function u(){let{user:a,logout:h}=(0,i.useAuth)(),u=(0,s.useRouter)(),[v,w]=(0,c.useState)("overview"),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(!0);(0,c.useEffect)(()=>{L()},[]);let L=async()=>{try{K(!0);let[a,b,c,d,e,f]=await Promise.all([(0,j.getTablesList)(),(0,j.getMenuItems)(),(0,j.getOrders)(),(0,j.getCategories)(),(0,j.getUsersList)(),(0,j.getBookings)()]);y(a.tables||[]),A(b.menuItems||[]),C(c.orders||[]),E(d.categories||[]),G(e.users||[]),I(f.bookings||[])}catch(a){console.error("Error loading dashboard data:",a),t.toast.error("KhÃ´ng thá»ƒ táº£i dá»¯ liá»‡u dashboard")}finally{K(!1)}},M=B.reduce((a,b)=>a+b.totalAmount,0),N=B.filter(a=>"ACTIVE"===a.status),O=H.filter(a=>"PENDING"===a.status),P=x.filter(a=>"VACANT"===a.status);x.filter(a=>"OCCUPIED"===a.status);let Q=[{title:"Tá»•ng doanh thu",value:`${M.toLocaleString("vi-VN")}Ä‘`,icon:p,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:"ÄÆ¡n hÃ ng hoáº¡t Ä‘á»™ng",value:N.length.toString(),icon:m.ShoppingCart,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:"BÃ n trá»‘ng",value:`${P.length}/${x.length}`,icon:n.Table,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20"},{title:"Äáº·t bÃ n chá» duyá»‡t",value:O.length.toString(),icon:o.Calendar,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20"}];return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted",children:[(0,b.jsx)("header",{className:"border-b bg-card/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-primary-foreground font-bold",children:"ðŸ‘‘"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Admin Dashboard"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ChÃ o má»«ng Admin ",a?.username]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Badge,{variant:"secondary",className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"ADMIN"}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>{h(),t.toast.success("ÄÃ£ Ä‘Äƒng xuáº¥t"),u.push("/")},className:"flex items-center gap-2",children:[(0,b.jsx)(k.LogOut,{className:"w-4 h-4"}),"ÄÄƒng xuáº¥t"]})]})]})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)(g.Tabs,{value:v,onValueChange:w,className:"w-full",children:[(0,b.jsxs)(g.TabsList,{className:"grid w-full grid-cols-5 mb-8",children:[(0,b.jsx)(g.TabsTrigger,{value:"overview",children:"Tá»•ng quan"}),(0,b.jsx)(g.TabsTrigger,{value:"users",children:"NgÆ°á»i dÃ¹ng"}),(0,b.jsx)(g.TabsTrigger,{value:"orders",children:"ÄÆ¡n hÃ ng"}),(0,b.jsx)(g.TabsTrigger,{value:"menu",children:"Thá»±c Ä‘Æ¡n"}),(0,b.jsx)(g.TabsTrigger,{value:"tables",children:"BÃ n Äƒn"})]}),(0,b.jsxs)(g.TabsContent,{value:"overview",className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Q.map((a,c)=>(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:a.title}),(0,b.jsx)("div",{className:`p-2 rounded-lg ${a.bgColor}`,children:(0,b.jsx)(a.icon,{className:`h-4 w-4 ${a.color}`})})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.value})})]},c))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"ÄÆ¡n hÃ ng gáº§n Ä‘Ã¢y"})}),(0,b.jsx)(d.CardContent,{children:J?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===B.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng"}):(0,b.jsx)("div",{className:"space-y-3",children:B.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium",children:["ÄÆ¡n #",a.id]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString("vi-VN")})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-medium",children:[a.totalAmount.toLocaleString("vi-VN"),"Ä‘"]}),(0,b.jsx)(f.Badge,{variant:"ACTIVE"===a.status?"default":"secondary",children:"ACTIVE"===a.status?"Äang hoáº¡t Ä‘á»™ng":"COMPLETED"===a.status?"HoÃ n thÃ nh":"ÄÃ£ há»§y"})]})]},a.id))})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Äáº·t bÃ n chá» duyá»‡t"})}),(0,b.jsx)(d.CardContent,{children:J?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===O.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"KhÃ´ng cÃ³ Ä‘áº·t bÃ n nÃ o chá» duyá»‡t"}):(0,b.jsx)("div",{className:"space-y-3",children:O.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.customer?.username||"KhÃ¡ch"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.date," - ",a.time]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-sm",children:[a.guests," ngÆ°á»i"]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",className:"h-6 px-2",children:(0,b.jsx)(q.CheckCircle,{className:"w-3 h-3"})}),(0,b.jsx)(e.Button,{size:"sm",variant:"outline",className:"h-6 px-2",children:(0,b.jsx)(r.XCircle,{className:"w-3 h-3"})})]})]})]},a.id))})})]})]})]}),(0,b.jsxs)(g.TabsContent,{value:"users",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Quáº£n lÃ½ ngÆ°á»i dÃ¹ng"}),(0,b.jsx)(e.Button,{children:"ThÃªm ngÆ°á»i dÃ¹ng"})]}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-0",children:J?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===F.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"ChÆ°a cÃ³ ngÆ°á»i dÃ¹ng"}):(0,b.jsx)("div",{className:"divide-y",children:F.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,b.jsx)(l.Users,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.username}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Badge,{variant:"ADMIN"===a.role?"default":"STAFF"===a.role?"secondary":(a.role,"outline"),children:a.role}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Chá»‰nh sá»­a"})]})]},a.id))})})})]}),(0,b.jsxs)(g.TabsContent,{value:"orders",className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Quáº£n lÃ½ Ä‘Æ¡n hÃ ng"}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Chá»©c nÄƒng quáº£n lÃ½ Ä‘Æ¡n hÃ ng sáº½ Ä‘Æ°á»£c phÃ¡t triá»ƒn"})})})]}),(0,b.jsxs)(g.TabsContent,{value:"menu",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Quáº£n lÃ½ thá»±c Ä‘Æ¡n"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:async()=>{try{await fetch("/api/categories/cleanup-duplicates",{method:"POST"}),t.toast.success("Cleanup initiated. Please run the SQL script."),L()}catch(a){t.toast.error("Cleanup failed")}},children:"Cleanup Categories"}),(0,b.jsx)(e.Button,{children:"ThÃªm mÃ³n Äƒn"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{children:["Danh má»¥c (",D.length,")"]})}),(0,b.jsx)(d.CardContent,{children:D.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Sá»­a"})]},a.id))})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{children:["MÃ³n Äƒn (",z.length,")"]})}),(0,b.jsx)(d.CardContent,{children:z.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.price,"Ä‘"]})]}),(0,b.jsx)(f.Badge,{variant:a.isAvailable?"default":"secondary",children:a.isAvailable?"CÃ³ sáºµn":"Háº¿t"})]},a.id))})]})]})]}),(0,b.jsxs)(g.TabsContent,{value:"tables",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Quáº£n lÃ½ bÃ n Äƒn"}),(0,b.jsx)(e.Button,{children:"ThÃªm bÃ n"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:x.map(a=>(0,b.jsx)(d.Card,{className:`cursor-pointer transition-all hover:shadow-lg ${"AVAILABLE"===a.status?"border-green-200 bg-green-50 dark:bg-green-900/20":"OCCUPIED"===a.status?"border-red-200 bg-red-50 dark:bg-red-900/20":"border-gray-200"}`,children:(0,b.jsxs)(d.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 mx-auto mb-2 bg-muted rounded-full flex items-center justify-center",children:(0,b.jsx)(n.Table,{className:"w-6 h-6"})}),(0,b.jsx)("p",{className:"font-semibold",children:a.tableName}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.capacity," ngÆ°á»i"]}),(0,b.jsx)(f.Badge,{variant:"VACANT"===a.status?"default":"OCCUPIED"===a.status?"destructive":"secondary",className:"mt-2",children:"VACANT"===a.status?"Trá»‘ng":"OCCUPIED"===a.status?"Äang dÃ¹ng":"RESERVED"===a.status?"ÄÃ£ Ä‘áº·t":"CLEANING"===a.status?"Äang dá»n":"Báº£o trÃ¬"})]})},a.id))})]})]})})]})}function v(){return(0,b.jsx)(h.AdminOnly,{children:(0,b.jsx)(u,{})})}a.s(["default",()=>v],41655)}];

//# sourceMappingURL=DACS2_FrontEnd_app_dashboard_admin_page_tsx_2edc1d8e._.js.map