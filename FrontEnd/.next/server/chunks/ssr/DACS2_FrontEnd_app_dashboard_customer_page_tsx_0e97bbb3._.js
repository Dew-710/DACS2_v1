module.exports=[59853,a=>{"use strict";var b=a.i(15238),c=a.i(47666),d=a.i(19967),e=a.i(95485),f=a.i(52983),g=a.i(48786),h=a.i(7054),i=a.i(55154),j=a.i(7326),k=a.i(14246),l=a.i(36222),m=a.i(15490),n=a.i(51471),o=a.i(82938),p=a.i(27369),q=a.i(15557);function r(){let{user:a,logout:h}=(0,i.useAuth)(),r=(0,p.useRouter)(),[s,t]=(0,c.useState)("menu"),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!0);(0,c.useEffect)(()=>{I()},[]);let I=async()=>{try{H(!0);let[b,c,d,e]=await Promise.all([(0,j.getMenuItems)(),(0,j.getCategories)(),(0,j.getTablesList)(),(0,j.getOrders)()]);v(b.menuItems||[]),x(c.categories||[]),z(d.tables||[]),B(e.orders?.filter(b=>b.customerId===a?.id)||[])}catch(a){console.error("Error loading dashboard data:",a),q.toast.error("KhÃ´ng thá»ƒ táº£i dá»¯ liá»‡u")}finally{H(!1)}},J=(a,b)=>{b<=0?D(C.filter(b=>b.menuItem.id!==a)):D(C.map(c=>c.menuItem.id===a?{...c,quantity:b}:c))},K=y.filter(a=>"AVAILABLE"===a.status);return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted",children:[(0,b.jsx)("header",{className:"border-b bg-card/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center text-primary-foreground font-bold",children:"ðŸ‘¤"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold",children:"RestroFlow"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["ChÃ o má»«ng ",a?.username]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Badge,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:"CUSTOMER"}),(0,b.jsxs)(e.Button,{variant:"outline",onClick:()=>{h(),q.toast.success("ÄÃ£ Ä‘Äƒng xuáº¥t"),r.push("/")},className:"flex items-center gap-2",children:[(0,b.jsx)(k.LogOut,{className:"w-4 h-4"}),"ÄÄƒng xuáº¥t"]})]})]})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)(g.Tabs,{value:s,onValueChange:t,className:"w-full",children:[(0,b.jsxs)(g.TabsList,{className:"grid w-full grid-cols-4 mb-8",children:[(0,b.jsx)(g.TabsTrigger,{value:"menu",children:"Thá»±c Ä‘Æ¡n"}),(0,b.jsx)(g.TabsTrigger,{value:"booking",children:"Äáº·t bÃ n"}),(0,b.jsx)(g.TabsTrigger,{value:"orders",children:"ÄÆ¡n hÃ ng"}),(0,b.jsxs)(g.TabsTrigger,{value:"cart",children:["Giá» hÃ ng (",C.length,")"]})]}),(0,b.jsxs)(g.TabsContent,{value:"menu",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>t("menu"),className:"bg-primary/10 border-primary text-primary",children:"Táº¥t cáº£"}),w.map(a=>(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>t("menu"),children:a.name},a.id))]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.filter(a=>a.isAvailable).map(a=>(0,b.jsx)(d.Card,{className:"hover:shadow-lg transition-shadow",children:(0,b.jsxs)(d.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-2",children:"ðŸ½ï¸"}),(0,b.jsx)("h3",{className:"font-semibold",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("span",{className:"text-lg font-bold text-primary",children:[a.price.toLocaleString("vi-VN"),"Ä‘"]}),(0,b.jsx)(f.Badge,{variant:"outline",children:a.category?.name})]}),(0,b.jsx)(e.Button,{className:"w-full",onClick:()=>{C.find(b=>b.menuItem.id===a.id)?D(C.map(b=>b.menuItem.id===a.id?{...b,quantity:b.quantity+1}:b)):D([...C,{menuItem:a,quantity:1}]),q.toast.success(`Ä\xe3 th\xeam ${a.name} v\xe0o giá» h\xe0ng`)},children:"ThÃªm vÃ o giá»"})]})},a.id))})]}),(0,b.jsx)(g.TabsContent,{value:"booking",className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Äáº·t bÃ n"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"NgÃ y"}),(0,b.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground mt-1 focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Giá»"}),(0,b.jsxs)("select",{className:"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground mt-1 focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"",children:"Chá»n giá»"}),(0,b.jsx)("option",{value:"11:00",children:"11:00 AM"}),(0,b.jsx)("option",{value:"12:00",children:"12:00 PM"}),(0,b.jsx)("option",{value:"18:00",children:"6:00 PM"}),(0,b.jsx)("option",{value:"19:00",children:"7:00 PM"}),(0,b.jsx)("option",{value:"20:00",children:"8:00 PM"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Sá»‘ ngÆ°á»i"}),(0,b.jsx)("input",{type:"number",min:"1",max:"20",placeholder:"4",className:"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground mt-1 focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Ghi chÃº (tÃ¹y chá»n)"}),(0,b.jsx)("textarea",{placeholder:"YÃªu cáº§u Ä‘áº·c biá»‡t...",rows:3,className:"w-full px-3 py-2 bg-input border border-border rounded-md text-foreground mt-1 focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsxs)(e.Button,{className:"w-full",children:[(0,b.jsx)(n.Calendar,{className:"w-4 h-4 mr-2"}),"Äáº·t bÃ n"]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"BÃ n trá»‘ng"})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:K.map(a=>(0,b.jsxs)(e.Button,{variant:E===a.id?"default":"outline",className:"h-16 flex flex-col items-center justify-center",onClick:()=>F(a.id),children:[(0,b.jsx)(l.Users,{className:"w-5 h-5 mb-1"}),(0,b.jsxs)("span",{className:"text-sm",children:["BÃ n ",a.tableNumber]}),(0,b.jsxs)("span",{className:"text-xs",children:[a.capacity," ngÆ°á»i"]})]},a.id))}),0===K.length&&(0,b.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"Hiá»‡n táº¡i khÃ´ng cÃ³ bÃ n trá»‘ng"})]})]})]})}),(0,b.jsxs)(g.TabsContent,{value:"orders",className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng"}),0===A.length?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(m.ShoppingCart,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o"}),(0,b.jsx)("p",{className:"text-muted-foreground text-center",children:"Báº¡n chÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o. HÃ£y Ä‘áº·t mÃ³n ngay!"}),(0,b.jsx)(e.Button,{className:"mt-4",onClick:()=>t("menu"),children:"Xem thá»±c Ä‘Æ¡n"})]})}):(0,b.jsx)("div",{className:"space-y-4",children:A.map(a=>(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(d.CardTitle,{className:"text-lg",children:["ÄÆ¡n hÃ ng #",a.id]}),(0,b.jsx)(f.Badge,{variant:"ACTIVE"===a.status?"default":"COMPLETED"===a.status?"secondary":"outline",children:"ACTIVE"===a.status?"Äang hoáº¡t Ä‘á»™ng":"COMPLETED"===a.status?"HoÃ n thÃ nh":"ÄÃ£ há»§y"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(a.createdAt).toLocaleDateString("vi-VN")," â€¢ BÃ n ",a.table?.tableNumber||a.tableId]})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"space-y-2 mb-4",children:a.items.map(a=>(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:[a.menuItem.name," x",a.quantity]}),(0,b.jsxs)("span",{children:[(a.unitPrice*a.quantity).toLocaleString("vi-VN"),"Ä‘"]})]},a.id))}),(0,b.jsxs)("div",{className:"flex justify-between font-semibold text-lg pt-4 border-t",children:[(0,b.jsx)("span",{children:"Tá»•ng cá»™ng:"}),(0,b.jsxs)("span",{className:"text-primary",children:[a.totalAmount.toLocaleString("vi-VN"),"Ä‘"]})]})]})]},a.id))})]}),(0,b.jsx)(g.TabsContent,{value:"cart",className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Giá» hÃ ng cá»§a báº¡n"}),0===C.length?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(m.ShoppingCart,{className:"w-16 h-16 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Giá» hÃ ng trá»‘ng"}),(0,b.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"HÃ£y thÃªm mÃ³n Äƒn vÃ o giá» hÃ ng cá»§a báº¡n"}),(0,b.jsx)(e.Button,{onClick:()=>t("menu"),children:"Xem thá»±c Ä‘Æ¡n"})]})}):(0,b.jsx)("div",{className:"space-y-4",children:C.map(a=>(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center",children:"ðŸ½ï¸"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.menuItem.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.menuItem.price.toLocaleString("vi-VN"),"Ä‘"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>J(a.menuItem.id,a.quantity-1),children:"-"}),(0,b.jsx)("span",{className:"w-8 text-center",children:a.quantity}),(0,b.jsx)(e.Button,{size:"sm",variant:"outline",onClick:()=>J(a.menuItem.id,a.quantity+1),children:"+"})]}),(0,b.jsxs)("span",{className:"font-semibold",children:[(a.menuItem.price*a.quantity).toLocaleString("vi-VN"),"Ä‘"]})]})]})})},a.menuItem.id))})]}),(0,b.jsx)("div",{children:(0,b.jsxs)(d.Card,{className:"sticky top-4",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"TÃ³m táº¯t Ä‘Æ¡n hÃ ng"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"space-y-2",children:C.map(a=>(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:[a.menuItem.name," x",a.quantity]}),(0,b.jsxs)("span",{children:[(a.menuItem.price*a.quantity).toLocaleString("vi-VN"),"Ä‘"]})]},a.menuItem.id))}),(0,b.jsx)("div",{className:"border-t pt-4",children:(0,b.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,b.jsx)("span",{children:"Tá»•ng cá»™ng:"}),(0,b.jsxs)("span",{className:"text-primary",children:[C.reduce((a,b)=>a+b.menuItem.price*b.quantity,0).toLocaleString("vi-VN"),"Ä‘"]})]})}),(0,b.jsxs)(e.Button,{className:"w-full",disabled:0===C.length,onClick:()=>q.toast.info("TÃ­nh nÄƒng Ä‘áº·t hÃ ng Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn"),children:[(0,b.jsx)(o.QrCode,{className:"w-4 h-4 mr-2"}),"Äáº·t hÃ ng"]})]})]})})]})})]})})]})}function s(){return(0,b.jsx)(h.CustomerOnly,{children:(0,b.jsx)(r,{})})}a.s(["default",()=>s])}];

//# sourceMappingURL=DACS2_FrontEnd_app_dashboard_customer_page_tsx_0e97bbb3._.js.map