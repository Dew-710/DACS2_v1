# Default application properties
server.port=${SERVER_PORT:8080}
spring.application.name=BackEnd
spring.profiles.active=${SPRING_PROFILES_ACTIVE:postgres}

# Swagger/OpenAPI Configuration
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# JWT Configuration
jwt.secret=${JWT_SECRET:restaurant_jwt_secret_key_change_this_in_production}
jwt.expiration=${JWT_EXPIRATION:86400000}

# File Upload Configuration
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:50MB}

# WebSocket Configuration
websocket.allowed-origins=${WEBSOCKET_ALLOWED_ORIGINS:*}

# Frontend URL for QR Code generation
# Set FRONTEND_URL environment variable or update this value with your Cloudflare tunnel URL
frontend.url=${FRONTEND_URL:https://app.dewjunior.id.vn}

# Tomcat Configuration - Handle malformed HTTP requests gracefully
server.tomcat.max-http-post-size=10MB
server.tomcat.max-http-form-post-size=10MB
server.error.include-message=always
server.error.include-stacktrace=on_param

# Logging Configuration - Reduce noise from invalid HTTP requests
logging.level.org.apache.coyote.http11=WARN
logging.level.org.apache.tomcat=WARN


# PayOS Configuration
# Có thể override bằng environment variables: PAYOS_CLIENT_ID, PAYOS_API_KEY, PAYOS_CHECKSUM_KEY
payos.base-url=https://api.payos.vn
payos.client.id=2dae7da2-c098-42d8-a46a-0bf93b078f17
payos.api.key=24cfa45c-177e-4360-84a7-3e432442b1c4
payos.checksum.key=3100e7a11ab456e10c6f711dc0cf063f0814f0ab159662e4191d7a3d30a66d4b
payos.return-url=https://app.dewjunior.id.vn/payment/success
payos.cancel-url=https://app.dewjunior.id.vn/payment/cancel
payos.webhook-header=X-Payos-Signature
payos.timeout-ms=${PAYOS_TIMEOUT_MS:5000}

# Flyway Configuration
spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:false}
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=false
spring.flyway.out-of-order=true

# Email Configuration
# Set these environment variables to enable email functionality:
# EMAIL_API_URL - Your email service API endpoint
# EMAIL_API_TOKEN - Your email service API token
email.enabled=${EMAIL_ENABLED:true}
email.api.url=${EMAIL_API_URL:}
email.api.token=${EMAIL_API_TOKEN:}
email.from=${EMAIL_FROM:lehoanhdung710@gmail.com}

# Gmail SMTP Configuration (recommended for password reset)
# To use Gmail: Enable EMAIL_SMTP_ENABLED and set Gmail credentials
email.smtp.enabled=${EMAIL_SMTP_ENABLED:true}
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:lehoanhdung710@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:jhfz qrwb zhbl bqxf}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Telegram Bot Configuration
# Set these environment variables to enable Telegram notifications:
# TELEGRAM_BOT_TOKEN - Your Telegram bot token from @BotFather
# TELEGRAM_BOT_CHAT_ID - Your chat ID (send /start to bot to get it)
telegram.bot.enabled=${TELEGRAM_BOT_ENABLED:true}
telegram.bot.token=${TELEGRAM_BOT_TOKEN:8370737734:AAFKdJE_WqS2G4lVKQxT9jbzI2yfi59JEhQ}
telegram.bot.username=${TELEGRAM_BOT_USERNAME:kitchen_dew_restaurant_bot}
telegram.bot.chat-id=${TELEGRAM_BOT_CHAT_ID:6284223765}
